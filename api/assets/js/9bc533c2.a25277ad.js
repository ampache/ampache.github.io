"use strict";(globalThis.webpackChunkampache_org_api=globalThis.webpackChunkampache_org_api||[]).push([[7987],{535(e,s,n){n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"subsonic","title":"Subsonic API","description":"API documentation","source":"@site/docs/subsonic.md","sourceDirName":".","slug":"/subsonic","permalink":"/api/subsonic","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Subsonic API","metaTitle":"Subsonic API","description":"API documentation"},"sidebar":"api","previous":{"title":"Video Search","permalink":"/api/advanced-search/video-advanced-search"},"next":{"title":"API5","permalink":"/api/api-5/"}}');var t=n(4848),c=n(8453);const o={title:"Subsonic API",metaTitle:"Subsonic API",description:"API documentation"},a=void 0,r={},p=[{value:"Subsonic API support",id:"subsonic-api-support",level:2},{value:"OpenSubsonic API extension",id:"opensubsonic-api-extension",level:2},{value:"Extensions",id:"extensions",level:3},{value:"Api Key authentication",id:"api-key-authentication",level:4},{value:"HTTP Header Authentication",id:"http-header-authentication",level:4},{value:"Endpoint extension",id:"endpoint-extension",level:3},{value:"Partially implemented",id:"partially-implemented",level:3},{value:"Subsonic Examples",id:"subsonic-examples",level:2}];function h(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.RP)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"subsonic-api-support",children:"Subsonic API support"}),"\n",(0,t.jsxs)(s.p,{children:["Ampache implements the ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/",children:"OpenSubsonic"})," API as well as a pure ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/api.jsp",children:"Subsonic"})," API."]}),"\n",(0,t.jsxs)(s.p,{children:["Each user can enable OpenSubsonic by disabling the ",(0,t.jsx)(s.code,{children:"Enable legacy Subsonic API responses for compatibility issues"})," preference on the Options page. (",(0,t.jsx)(s.code,{children:"preferences.php?tab=options"}),")"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Compatible Versions:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Ampache7.6.0 => Separated OpenSubsonic ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/",children:"docs"})," & Subsonic API's ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.16.1.xsd",children:"1.16.1"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ampache7 => OpenSubsonic extensions & Subsonic ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.16.1.xsd",children:"1.16.1"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ampache6 => Subsonic ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.16.1.xsd",children:"1.16.1"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ampache5 => Subsonic ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.13.0.xsd",children:"1.13.0"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ampache4 => Subsonic ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.13.0.xsd",children:"1.13.0"})]}),"\n",(0,t.jsxs)(s.li,{children:["Ampache3 => Subsonic ",(0,t.jsx)(s.a,{href:"http://www.subsonic.org/pages/inc/api/schema/subsonic-rest-api-1.11.0.xsd",children:"1.11.0"})]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"opensubsonic-api-extension",children:"OpenSubsonic API extension"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/",children:"OpenSubsonic API"})," is an open source initiative to create backward-compatible extensions for the original Subsonic API."]}),"\n",(0,t.jsx)(s.p,{children:"Ampache Subsonic support is being extended to support these changes"}),"\n",(0,t.jsx)(s.h3,{id:"extensions",children:"Extensions"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Add ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/apikeyauth/",children:"API Key Authentication"})]}),"\n",(0,t.jsxs)(s.li,{children:["Add ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/getpodcastepisode/",children:"getPodcastEpisode"})," method"]}),"\n",(0,t.jsxs)(s.li,{children:["Expanded ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/responses/subsonic-response/",children:"subsonic-response"})]}),"\n",(0,t.jsxs)(s.li,{children:["Expanded ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/responses/error/",children:"subsonic-response error"})]}),"\n",(0,t.jsxs)(s.li,{children:["Support ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/formpost/",children:"HTTP form POST"})]}),"\n",(0,t.jsxs)(s.li,{children:["Add ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/songlyrics/",children:"songLyrics"})," support"]}),"\n",(0,t.jsxs)(s.li,{children:["Add ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/indexbasedqueue/",children:"Index based Queue"})]}),"\n",(0,t.jsxs)(s.li,{children:["Tentatively supported ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/extensions/transcodeoffset/",children:"Transcode Offset"})," (Parameter is supported but untested)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"api-key-authentication",children:"Api Key authentication"}),"\n",(0,t.jsx)(s.p,{children:"The key that must be passed to Ampache is the API Key generated for a specific user (none by default, only the administrator can generate one)."}),"\n",(0,t.jsx)(s.p,{children:"Then call the following URL (Where localhost/ampache is the location of your Ampache installation):"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-URL",children:"http://localhost/ampache/rest/ping.view?apiKey=API_KEY&v=1.2.0&c=DSub&f=json\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"NOTE"})," Do not send a user (u) parameter or auth will be rejected."]}),"\n",(0,t.jsxs)(s.p,{children:["The key can be also be passed to Ampache using ",(0,t.jsx)(s.code,{children:"SHA256(USER+KEY)"})," where ",(0,t.jsx)(s.code,{children:"KEY"})," is ",(0,t.jsx)(s.code,{children:"SHA256('APIKEY')"}),". Below is a PHP example"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-PHP",children:"$user = 'username';\n$key = hash('sha256', 'myapikey');\n$passphrase = hash('sha256', $user . $key);\n"})}),"\n",(0,t.jsx)(s.h4,{id:"http-header-authentication",children:"HTTP Header Authentication"}),"\n",(0,t.jsx)(s.p,{children:"Ampache supports sending your apiKey parameter to the server using a Bearer Token."}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"apiKey"})," parameter does not need to be sent with your URL. We will check your header for a token first"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-Text",children:"GET http://localhost/ampache/rest/ping.view?v=1.2.0&c=DSub&f=jsonHTTP/1.1\nAuthorization: Bearer 000111112233334444455556667777788888899aaaaabbbbcccccdddeeeeeeff\n"})}),"\n",(0,t.jsx)(s.h3,{id:"endpoint-extension",children:"Endpoint extension"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Edit ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/endpoints/search3/",children:"search3"})," to allow empty ",(0,t.jsx)(s.code,{children:"query"})," argument"]}),"\n",(0,t.jsxs)(s.li,{children:["Edit ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/endpoints/saveplayqueue/",children:"savePlayQueue"})," to allow empty ",(0,t.jsx)(s.code,{children:"id"})," argument"]}),"\n",(0,t.jsxs)(s.li,{children:["Add ",(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/endpoints/getopensubsonicextensions/",children:"getOpenSubsonicExtensions"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"partially-implemented",children:"Partially implemented"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://opensubsonic.netlify.app/docs/endpoints/stream/",children:"stream"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Support ",(0,t.jsx)(s.code,{children:"timeOffset"})," (Parameter is supported but untested)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"subsonic-examples",children:"Subsonic Examples"}),"\n",(0,t.jsx)(s.p,{children:"You can get examples from an official Subsonic release as well as examples from Ampache."}),"\n",(0,t.jsx)(s.p,{children:"These servers are using a Subsonic 1.16.1 compatible API version."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/ampache/python3-ampache/tree/api6/docs/ampache-opensubsonic",children:"Ampache 7.0.0 (1.16.1+opensubsonic)"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/ampache/python3-ampache/tree/api6/docs/ampache-subsonic",children:"Ampache 6.0.0 (1.16.1)"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/ampache/python3-ampache/tree/api6/docs/subsonic-6.1.6",children:"Subsonic 6.1.6 (1.16.1)"})}),"\n"]})]})}function l(e={}){const{wrapper:s}={...(0,c.RP)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,s,n){n.d(s,{RP:()=>c,xA:()=>a});var i=n(6540);const t=i.createContext({});function c(e){const s=i.useContext(t);return i.useMemo(()=>"function"==typeof e?e(s):{...s,...e},[s,e])}const o={};function a({components:e,children:s,disableParentContext:n}){let a;return a=n?"function"==typeof e?e({}):e||o:c(e),i.createElement(t.Provider,{value:a},s)}}}]);