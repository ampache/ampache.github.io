<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/help/troubleshooting/ampache7-for-admins" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Ampache7 for Admins | Ampache</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ampache.org/docs/help/troubleshooting/ampache7-for-admins"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ampache7 for Admins | Ampache"><meta data-rh="true" name="description" content="Ampache7 for Admins"><meta data-rh="true" property="og:description" content="Ampache7 for Admins"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ampache.org/docs/help/troubleshooting/ampache7-for-admins"><link data-rh="true" rel="alternate" href="https://ampache.org/docs/help/troubleshooting/ampache7-for-admins" hreflang="en"><link data-rh="true" rel="alternate" href="https://ampache.org/docs/help/troubleshooting/ampache7-for-admins" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Wiki","item":"https://ampache.org/docs/"},{"@type":"ListItem","position":2,"name":"Help","item":"https://ampache.org/docs/help/"},{"@type":"ListItem","position":3,"name":"Ampache7 for Admins","item":"https://ampache.org/docs/help/troubleshooting/ampache7-for-admins"}]}</script><link rel="stylesheet" href="/assets/css/styles.0abe6b77.css">
<script src="/assets/js/runtime~main.c265f115.js" defer="defer"></script>
<script src="/assets/js/main.75ba02d6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/ampache-logo.png" alt="Ampache Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo/ampache-logo.png" alt="Ampache Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ampache</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/demo">Demo</a><a class="navbar__item navbar__link" href="/donate">Donate</a><a class="navbar__item navbar__link" href="/docker">Docker</a><a class="navbar__item navbar__link" href="/download">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Wiki</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link navbar-links" href="/links">Links</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Ampache" class="linkLabel_WmDU">Ampache</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/demo"><span title="Demo" class="linkLabel_WmDU">Demo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/donate"><span title="Donate" class="linkLabel_WmDU">Donate</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docker"><span title="Docker" class="linkLabel_WmDU">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/download"><span title="Download" class="linkLabel_WmDU">Download</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/"><span title="Wiki" class="categoryLinkLabel_W154">Wiki</span></a><button aria-label="Collapse sidebar category &#x27;Wiki&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/information/ampache-use-cases"><span title="Ampache Use Cases" class="linkLabel_WmDU">Ampache Use Cases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/#preview"><span title="Screenshots" class="linkLabel_WmDU">Screenshots</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/installation/"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/configuration/"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/clients/"><span title="Clients" class="categoryLinkLabel_W154">Clients</span></a><button aria-label="Expand sidebar category &#x27;Clients&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/plugins/"><span title="Plugins" class="categoryLinkLabel_W154">Plugins</span></a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/themes"><span title="Themes" class="linkLabel_WmDU">Themes</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/CONTRIBUTING"><span title="Development" class="categoryLinkLabel_W154">Development</span></a><button aria-label="Expand sidebar category &#x27;Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/help/"><span title="Help" class="categoryLinkLabel_W154">Help</span></a><button aria-label="Collapse sidebar category &#x27;Help&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/help/troubleshooting/ampache7-for-admins"><span title="Ampache7 for Admins" class="linkLabel_WmDU">Ampache7 for Admins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/help/troubleshooting/ampache7-for-users"><span title="Ampache7 for Users" class="linkLabel_WmDU">Ampache7 for Users</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/help/troubleshooting/faq"><span title="Frequently Asked Questions" class="linkLabel_WmDU">Frequently Asked Questions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/help/troubleshooting/chart-faq"><span title="Charts and Graphs" class="linkLabel_WmDU">Charts and Graphs</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/old-information/"><span title="Old Information" class="categoryLinkLabel_W154">Old Information</span></a><button aria-label="Expand sidebar category &#x27;Old Information&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/api/"><span title="API" class="categoryLinkLabel_W154">API</span></a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/links"><span title="Links" class="linkLabel_WmDU">Links</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/"><span>Wiki</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/help/"><span>Help</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Ampache7 for Admins</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ampache7 for Admins</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ampache7-for-admins">Ampache7 for Admins<a href="#ampache7-for-admins" class="hash-link" aria-label="Direct link to Ampache7 for Admins" title="Direct link to Ampache7 for Admins" translate="no">​</a></h2>
<p>This page will cover the visual, backend and Admin specific changes to Ampache.</p>
<p>User specific changes are available at <a class="" href="/docs/help/troubleshooting/ampache7-for-users">Ampache7 for Users</a></p>
<p>There are a few changes in Ampache7 that might block you upgrading.</p>
<p>Consider all the changes before upgrading.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="warning-for-develop-users">Warning for develop users<a href="#warning-for-develop-users" class="hash-link" aria-label="Direct link to Warning for develop users" title="Direct link to Warning for develop users" translate="no">​</a></h2>
<p><strong>DEVELOP BRANCH HAS MERGED WITH PATCH7</strong> <a href="https://github.com/ampache/ampache/pull/3969" target="_blank" rel="noopener noreferrer" class="">pull</a></p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/9e02d67a-5dc2-439e-aa54-cf6312856c92" alt="image" class="img_ev3q"></p>
<p><del>Disable the warning by enabling <code>hide_ampache_messages</code> in your config file.</del></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="some-untracked-files-are-being-tracked-by-git-again">Some untracked files are being tracked by Git again<a href="#some-untracked-files-are-being-tracked-by-git-again" class="hash-link" aria-label="Direct link to Some untracked files are being tracked by Git again" title="Direct link to Some untracked files are being tracked by Git again" translate="no">​</a></h3>
<p>If you are using Git we have added the package lock to the tree again.</p>
<p>If you see this error you can safely delete the lock file and then try your pull again.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/24277173-47a8-463a-b916-23ebd34bc15b" alt="image" class="img_ev3q"></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm ./package-lock.json</span><br></span></code></pre></div></div>
<p>You might see other errors in the first composer sync as well.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/c8aaae7a-0593-4cba-8bb1-180c0dac3a57" alt="image" class="img_ev3q"></p>
<p>You can run composer manually with interaction to deal with these</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">composer install --no-dev --prefer-source</span><br></span></code></pre></div></div>
<p>Press <code>y</code> and enter to discard the change.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/78238033-49c7-4798-988c-55c01e3a7471" alt="image" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="try-it-out">Try it out<a href="#try-it-out" class="hash-link" aria-label="Direct link to Try it out" title="Direct link to Try it out" translate="no">​</a></h2>
<p>You can check out the latest builds of Ampache7 using <a href="https://github.com/ampache/ampache-docker" target="_blank" rel="noopener noreferrer" class="">docker</a>.</p>
<p>Just check out the <code>ampache/ampache:develop</code> or <code>ampache/ampache:nosql-develop</code> tag to get these builds.</p>
<p>You can also check out the latest builds of Ampache7 using git.</p>
<p>Check out the patch7 branch to try it out on your own server.</p>
<p>(Don&#x27;t replace your existing Ampache database if you want to go back!)</p>
<p>Check out the <a class="" href="/docs/installation">wiki - Installation</a> page for more information</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone -b patch7 https://github.com/ampache/ampache.git ampache</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="rollback-to-ampache6">Rollback to Ampache6<a href="#rollback-to-ampache6" class="hash-link" aria-label="Direct link to Rollback to Ampache6" title="Direct link to Rollback to Ampache6" translate="no">​</a></h2>
<p>There is now the ability to downgrade your database from Ampache7 back to Ampache6 using the cli.</p>
<p>If you want to go back and wait for a newer release simply run the update command and the database will be downgraded to match your version.</p>
<p><code>php bin/cli admin:updateDatabase -e</code></p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/db7bcbdb-de94-4db2-86a3-2151646ae877" alt="image" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="php-version-support">PHP Version support<a href="#php-version-support" class="hash-link" aria-label="Direct link to PHP Version support" title="Direct link to PHP Version support" translate="no">​</a></h2>
<p>The first major change is that Ampache7 supports PHP8.2+ <strong>ONLY</strong>!</p>
<p>Builds will no longer support other versions. Stay on Ampache6 until you can move your server.</p>
<p>You can stay on the <code>patch6</code> or <code>release6</code> branch by checking out the git branch.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout origin/patch6</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="php-zip-extension-is-required">PHP zip extension is required<a href="#php-zip-extension-is-required" class="hash-link" aria-label="Direct link to PHP zip extension is required" title="Direct link to PHP zip extension is required" translate="no">​</a></h2>
<p>To make sure zip downloads are still available cross platform, the core php zip module is being used.</p>
<p>On Linux the module is usually called <code>php-zip</code> and is now required whether you enable zip downloads or not in the config.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="npm-is-required-for-js-package-installation">NPM is required for JS package installation<a href="#npm-is-required-for-js-package-installation" class="hash-link" aria-label="Direct link to NPM is required for JS package installation" title="Direct link to NPM is required for JS package installation" translate="no">​</a></h2>
<p>When you update Ampache you need to add another step to the update processes.</p>
<p>In addition to composer install you need to update the NPM packages.</p>
<p>The minimum nodejs version is <strong>v15</strong> or higher and supported packages are available in:</p>
<ul>
<li class="">Debian bookworm (stable)</li>
<li class="">Ubuntu 23.10</li>
<li class="">Ubuntu LTS 24.04</li>
</ul>
<p>Check your version prior to upgrading.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/4fa526a6-fc68-4890-ac5d-6a44be7a9a2c" alt="image" class="img_ev3q"></p>
<p>When you&#x27;re updating from git add the npm commands to the end of your scripts.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd /var/www/ampache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer install --no-dev --prefer-source --no-interaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span></code></pre></div></div>
<p>Check out <a href="https://github.com/ampache/ampache/blob/patch7/docs/examples/update_from_git.sh" target="_blank" rel="noopener noreferrer" class="">update_from_git.sh</a> for an updated example.</p>
<p><strong>NOTE</strong> <del>The commands to update NPM packages can&#x27;t be triggered by PHP, so the first time you install from Git you <strong>must</strong> run the npm commands from the cli. (or use a zip package)</del> This should be resolved now in Ampache 7.4.0+</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-release-type-client">New release type CLIENT<a href="#new-release-type-client" class="hash-link" aria-label="Direct link to New release type CLIENT" title="Direct link to New release type CLIENT" translate="no">​</a></h2>
<p>With Ampache7 you can build your own API client and use it in the base url instead of as a sub folder.</p>
<p>This will be documented and expanded further in time but you can use it right now if you&#x27;re knowledgable enough with a web server</p>
<p><a class="" href="/docs/information/ampache7-client-structure-install-type">wiki</a></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="clips-movie-tv-and-personal-video-types-have-been-removed">Clips, Movie, TV and Personal Video types have been removed<a href="#clips-movie-tv-and-personal-video-types-have-been-removed" class="hash-link" aria-label="Direct link to Clips, Movie, TV and Personal Video types have been removed" title="Direct link to Clips, Movie, TV and Personal Video types have been removed" translate="no">​</a></h2>
<p>As Ampache focuses on music, it has been decided to remove the additional video types and provide one option for video catalogs.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/db49223e-50a0-4eb4-a8b4-b14c54413257" alt="image" class="img_ev3q"></p>
<p>The removal of these types allow Ampache to continue to offer basic video support.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/a3494023-79dc-4822-ae2d-6e735b0cc05f" alt="image" class="img_ev3q"></p>
<p><a href="https://jellyfin.org/" target="_blank" rel="noopener noreferrer" class="">Jellyfin</a> is our highly recommended alternative and has much more advanced video features.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="there-is-no-api7-only-api6-and-5-4-and-3-too">There is no API7 only API6! (...and 5, 4 and 3 too)<a href="#there-is-no-api7-only-api6-and-5-4-and-3-too" class="hash-link" aria-label="Direct link to There is no API7 only API6! (...and 5, 4 and 3 too)" title="Direct link to There is no API7 only API6! (...and 5, 4 and 3 too)" translate="no">​</a></h2>
<p>The Ampache API is not breaking anything with this release.</p>
<p>This will be the first time that the API and Ampache do not have the same version number.</p>
<p>Ampache versions will be 7.x.x and API6 will remain the default API version. (Currently 6.5.0)</p>
<p>If you send a version 7 API call you will be downgraded to API6 instead of getting an error.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/9e4c3629-80ce-495e-b25f-285389c995a4" alt="image" class="img_ev3q"></p>
<p>If Ampache8 requires major changes the version will bump from 6 to 8 to match the next major release and skipping API7 entirely. (Or continue extending API6 if it lasts that long.)</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="image-links-for-users-have-changed">Image links for user&#x27;s have changed<a href="#image-links-for-users-have-changed" class="hash-link" aria-label="Direct link to Image links for user&#x27;s have changed" title="Direct link to Image links for user&#x27;s have changed" translate="no">​</a></h2>
<p>Do you use your user profile picture in other areas? (I like to use may avatar as a custom logo up there in the corner.)</p>
<p><img decoding="async" loading="lazy" src="https://github.com/ampache/ampache/assets/1305249/cd8dcb22-9da2-42c5-b8c3-cf2a746c8be7" alt="image" class="img_ev3q"></p>
<p>The old links used the show action like all other objects</p>
<div class="language-URL language-url codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-url codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://music.com.au/image.php?action=show&amp;object_id=1&amp;thumb=4</span><br></span></code></pre></div></div>
<p>Ampache7 user avatar links now use their own action</p>
<div class="language-URL language-url codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-url codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">https://music.com.au/image.php?action=show_user_avatar&amp;object_id=1&amp;thumb=4</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="api-errormessage-fields-are-not-translated">API errorMessage fields are not translated<a href="#api-errormessage-fields-are-not-translated" class="hash-link" aria-label="Direct link to API errorMessage fields are not translated" title="Direct link to API errorMessage fields are not translated" translate="no">​</a></h2>
<p><a class="" href="/api/api-errors">API6 Errors</a> return an error object with the following parts:</p>
<ul>
<li class=""><code>errorCode</code>: numeric code</li>
<li class=""><code>errorAction</code>: method that caused the error</li>
<li class=""><code>errorType</code>: further information such as the type of data missing or access level required</li>
<li class=""><code>errorMessage</code>: translated error message</li>
</ul>
<p>It&#x27;s been decided to keep the <code>errorMessage</code> in US English and <strong>NOT</strong> translate the messages.</p>
<p>This is a change in behaviour but is not considered breaking as the <code>errorMessage</code> could not be considered consistent.</p>
<p>Now it can be used for more complicated error handling.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-config-options">New Config Options<a href="#new-config-options" class="hash-link" aria-label="Direct link to New Config Options" title="Direct link to New Config Options" translate="no">​</a></h2>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">; By defualt Ampache doesn&#x27;t install dev packages using the --no-dev parameter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; disable this setting to install dev packages (e.g. composer install --prefer-source --no-interaction)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; DEFAULT: &quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">composer_no_dev = &quot;true&quot;</span><br></span></code></pre></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">; This value allows to override the npm binary path to distinguish between multiple npm versions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Either a binary name in $PATH as well as a fully qualified path is possible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; DEFAULT: npm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm_binary_path = &quot;npm&quot;</span><br></span></code></pre></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">; Set a default table engine for your database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Don&#x27;t change this unless you understand how to BACKUP and RESTORE a database!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; DEFAULT: &quot;InnoDB&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">database_engine = &quot;InnoDB&quot;</span><br></span></code></pre></div></div>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">; Webplayer Access Level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Set a minimum access level required to access the webplayer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; When a user does not meet the access requirements then you</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; are blocked from using the webplayer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; NOTE: This setting is ignored if you disable use_auth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; POSSIBLE VALUES: guest, user, content_manager, manager, admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; DEFAULT: &quot;user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webplayer_level = &quot;user&quot;</span><br></span></code></pre></div></div>
<ul>
<li class="">Other changes of note in the config file<!-- -->
<ul>
<li class=""><code>user_create_streamtoken</code> is enabled by default now so all new users will have a streaming token.</li>
<li class=""><code>waveform_drawflat</code> was hardcoded to true in and doesn&#x27;t &#x27;seem&#x27; to do anything</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-cli-commands">New CLI commands<a href="#new-cli-commands" class="hash-link" aria-label="Direct link to New CLI commands" title="Direct link to New CLI commands" translate="no">​</a></h2>
<p>The CLI has had a lot of updates allowing you to do a lot more admin work without having to log in.</p>
<p>These new commands are geared around being able to do things without manually clicking through the interface.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin">admin<!-- -->:updateConfigFile<a href="#admin" class="hash-link" aria-label="Direct link to admin" title="Direct link to admin" translate="no">​</a></h3>
<p>Update the Ampache config file if there is a version update</p>
<p><code>php bin/cli admin:updateConfigFile --execute</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-1">admin<!-- -->:updatePlugins<a href="#admin-1" class="hash-link" aria-label="Direct link to admin-1" title="Direct link to admin-1" translate="no">​</a></h3>
<p>Update Plugins automatically if they require an update</p>
<p><code>php bin/cli admin:updatePlugins --execute</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-2">admin<!-- -->:listUsers<a href="#admin-2" class="hash-link" aria-label="Direct link to admin-2" title="Direct link to admin-2" translate="no">​</a></h3>
<p>Print out a list of active users or an individual user searching by username.</p>
<p><code>php bin/cli admin:listUsers some-username</code></p>
<p>You can also search by id using <code>--user</code> parameter</p>
<p><code>php bin/cli admin:listUsers -u 5</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-3">admin<!-- -->:updatePreferenceAccessLevel<a href="#admin-3" class="hash-link" aria-label="Direct link to admin-3" title="Direct link to admin-3" translate="no">​</a></h3>
<p>This command will update the preference access level which will block users who do not meet the requirements from changing their values.</p>
<p>You can also reset the access level to the Ampache defaults which copies the levels from a fresh install</p>
<ul>
<li class="">Available <code>--level</code> options<!-- -->
<ul>
<li class="">default (Ampache database)</li>
<li class="">guest</li>
<li class="">user</li>
<li class="">content_manager</li>
<li class="">manager</li>
<li class="">admin</li>
</ul>
</li>
</ul>
<p><code>php bin/cli admin:updatePreferenceAccessLevel --level admin</code></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-4">admin<!-- -->:resetPreferences<a href="#admin-4" class="hash-link" aria-label="Direct link to admin-4" title="Direct link to admin-4" translate="no">​</a></h3>
<p>Reset preference values for a user based on selected presets.</p>
<p>The <code>system</code> preset will match the current site preference values from the admin preference pages. (e.g. <code>preferences.php?action=admin&amp;tab=interface</code>)</p>
<p><code>admin:resetPreferences some-user --preset default</code></p>
<ul>
<li class="">Available <code>--preset</code> options<!-- -->
<ul>
<li class="">system</li>
<li class="">default</li>
<li class="">minimalist</li>
<li class="">community&#x27;</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-license-list-can-be-reordered">The license list can be reordered<a href="#the-license-list-can-be-reordered" class="hash-link" aria-label="Direct link to The license list can be reordered" title="Direct link to The license list can be reordered" translate="no">​</a></h2>
<p>There is now a column for ordering the licenses instead of ordering alphabetically.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/1dbc8975-3328-4215-bce4-d7487a8f2ba2" alt="image" class="img_ev3q"></p>
<p>You can also hide them instead of deleting them completely. (Order 0 = hidden)</p>
<p>You can unhide by following the <code>Hidden</code> link on the manage license page</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/d9783746-18f6-4e7d-8575-e6898d180c9d" alt="image" class="img_ev3q"></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-options">New Options<a href="#new-options" class="hash-link" aria-label="Direct link to New Options" title="Direct link to New Options" translate="no">​</a></h2>
<p>New site options and preferences are documented in wiki at <a class="" href="/docs/help/troubleshooting/ampache7-for-users">ampache7-for-users</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/help/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Help</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/help/troubleshooting/ampache7-for-users"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ampache7 for Users</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ampache7-for-admins" class="table-of-contents__link toc-highlight">Ampache7 for Admins</a></li><li><a href="#warning-for-develop-users" class="table-of-contents__link toc-highlight">Warning for develop users</a><ul><li><a href="#some-untracked-files-are-being-tracked-by-git-again" class="table-of-contents__link toc-highlight">Some untracked files are being tracked by Git again</a></li></ul></li><li><a href="#try-it-out" class="table-of-contents__link toc-highlight">Try it out</a></li><li><a href="#rollback-to-ampache6" class="table-of-contents__link toc-highlight">Rollback to Ampache6</a></li><li><a href="#php-version-support" class="table-of-contents__link toc-highlight">PHP Version support</a></li><li><a href="#php-zip-extension-is-required" class="table-of-contents__link toc-highlight">PHP zip extension is required</a></li><li><a href="#npm-is-required-for-js-package-installation" class="table-of-contents__link toc-highlight">NPM is required for JS package installation</a></li><li><a href="#new-release-type-client" class="table-of-contents__link toc-highlight">New release type CLIENT</a></li><li><a href="#clips-movie-tv-and-personal-video-types-have-been-removed" class="table-of-contents__link toc-highlight">Clips, Movie, TV and Personal Video types have been removed</a></li><li><a href="#there-is-no-api7-only-api6-and-5-4-and-3-too" class="table-of-contents__link toc-highlight">There is no API7 only API6! (...and 5, 4 and 3 too)</a></li><li><a href="#image-links-for-users-have-changed" class="table-of-contents__link toc-highlight">Image links for user&#39;s have changed</a></li><li><a href="#api-errormessage-fields-are-not-translated" class="table-of-contents__link toc-highlight">API errorMessage fields are not translated</a></li><li><a href="#new-config-options" class="table-of-contents__link toc-highlight">New Config Options</a></li><li><a href="#new-cli-commands" class="table-of-contents__link toc-highlight">New CLI commands</a><ul><li><a href="#admin" class="table-of-contents__link toc-highlight">admin</a></li><li><a href="#admin-1" class="table-of-contents__link toc-highlight">admin</a></li><li><a href="#admin-2" class="table-of-contents__link toc-highlight">admin</a></li><li><a href="#admin-3" class="table-of-contents__link toc-highlight">admin</a></li><li><a href="#admin-4" class="table-of-contents__link toc-highlight">admin</a></li></ul></li><li><a href="#the-license-list-can-be-reordered" class="table-of-contents__link toc-highlight">The license list can be reordered</a></li><li><a href="#new-options" class="table-of-contents__link toc-highlight">New Options</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2001 - 2026 Ampache.org</div></div></div></footer></div>
</body>
</html>