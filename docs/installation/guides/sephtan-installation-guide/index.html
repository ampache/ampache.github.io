<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/installation/guides/sephtan-installation-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Sephten&#x27;s Install guide | Ampache</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ampache.org/docs/installation/guides/sephtan-installation-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Sephten&#x27;s Install guide | Ampache"><meta data-rh="true" name="description" content="Sephten&#x27;s Install guide"><meta data-rh="true" property="og:description" content="Sephten&#x27;s Install guide"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ampache.org/docs/installation/guides/sephtan-installation-guide"><link data-rh="true" rel="alternate" href="https://ampache.org/docs/installation/guides/sephtan-installation-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://ampache.org/docs/installation/guides/sephtan-installation-guide" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Wiki","item":"https://ampache.org/docs/"},{"@type":"ListItem","position":2,"name":"Installation","item":"https://ampache.org/docs/installation/"},{"@type":"ListItem","position":3,"name":"User Guides","item":"https://ampache.org/docs/installation/guides/"},{"@type":"ListItem","position":4,"name":"Sephten's Install guide","item":"https://ampache.org/docs/installation/guides/sephtan-installation-guide"}]}</script><link rel="stylesheet" href="/assets/css/styles.0abe6b77.css">
<script src="/assets/js/runtime~main.d26f91a0.js" defer="defer"></script>
<script src="/assets/js/main.cf16cd6f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/ampache-logo.png" alt="Ampache Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo/ampache-logo.png" alt="Ampache Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ampache</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/demo">Demo</a><a class="navbar__item navbar__link" href="/donate">Donate</a><a class="navbar__item navbar__link" href="/docker">Docker</a><a class="navbar__item navbar__link" href="/download">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Wiki</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link navbar-links" href="/links">Links</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Ampache" class="linkLabel_WmDU">Ampache</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/demo"><span title="Demo" class="linkLabel_WmDU">Demo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/donate"><span title="Donate" class="linkLabel_WmDU">Donate</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docker"><span title="Docker" class="linkLabel_WmDU">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/download"><span title="Download" class="linkLabel_WmDU">Download</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/"><span title="Wiki" class="categoryLinkLabel_W154">Wiki</span></a><button aria-label="Collapse sidebar category &#x27;Wiki&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/information/ampache-use-cases"><span title="Ampache Use Cases" class="linkLabel_WmDU">Ampache Use Cases</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/#preview"><span title="Screenshots" class="linkLabel_WmDU">Screenshots</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/installation/"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a><button aria-label="Collapse sidebar category &#x27;Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/information/which-zip"><span title="Which zip?" class="linkLabel_WmDU">Which zip?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/catalog"><span title="Creating a Catalog" class="linkLabel_WmDU">Creating a Catalog</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/install-ampache-on-ubuntu2204"><span title="Install on Ubuntu 22.04" class="linkLabel_WmDU">Install on Ubuntu 22.04</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/windows-installation-guide"><span title="Windows Installation Guide" class="linkLabel_WmDU">Windows Installation Guide</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/installation/guides/"><span title="User Guides" class="categoryLinkLabel_W154">User Guides</span></a><button aria-label="Collapse sidebar category &#x27;User Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/guides/tutorial-to-install-ampache-on-xampp"><span title="Install Ampache on Xampp" class="linkLabel_WmDU">Install Ampache on Xampp</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/installation/guides/sephtan-installation-guide"><span title="Sephten&#x27;s Install guide" class="linkLabel_WmDU">Sephten&#x27;s Install guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/guides/windows-installation-on-iis7.5-from-he99"><span title="Windows Install on IIS7.5" class="linkLabel_WmDU">Windows Install on IIS7.5</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/guides/cloudron-installation-guide"><span title="Cloudron" class="linkLabel_WmDU">Cloudron</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/configuration/"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/clients/"><span title="Clients" class="categoryLinkLabel_W154">Clients</span></a><button aria-label="Expand sidebar category &#x27;Clients&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/plugins/"><span title="Plugins" class="categoryLinkLabel_W154">Plugins</span></a><button aria-label="Expand sidebar category &#x27;Plugins&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/themes"><span title="Themes" class="linkLabel_WmDU">Themes</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/development/CONTRIBUTING"><span title="Development" class="categoryLinkLabel_W154">Development</span></a><button aria-label="Expand sidebar category &#x27;Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/help/"><span title="Help" class="categoryLinkLabel_W154">Help</span></a><button aria-label="Expand sidebar category &#x27;Help&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/old-information/"><span title="Old Information" class="categoryLinkLabel_W154">Old Information</span></a><button aria-label="Expand sidebar category &#x27;Old Information&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/api/"><span title="API" class="categoryLinkLabel_W154">API</span></a><button aria-label="Expand sidebar category &#x27;API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/links"><span title="Links" class="linkLabel_WmDU">Links</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/"><span>Wiki</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/installation/"><span>Installation</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/installation/guides/"><span>User Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Sephten&#x27;s Install guide</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Sephten&#x27;s Install guide</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="guide-to-setup-ampache-server-using-apache2-or-nginx-with-php74-fpm">Guide to setup Ampache server using APACHE2 or NGINX with PHP7.4-FPM<a href="#guide-to-setup-ampache-server-using-apache2-or-nginx-with-php74-fpm" class="hash-link" aria-label="Direct link to Guide to setup Ampache server using APACHE2 or NGINX with PHP7.4-FPM" title="Direct link to Guide to setup Ampache server using APACHE2 or NGINX with PHP7.4-FPM" translate="no">​</a></h2>
<p>This my first guide i write for other people, mainly i do such things only for myself in my personal DokuWiki.
As english isn&#x27;t my first language so be leniant with me when some writings here reads unusual for you.</p>
<p>If anyone finds some parts of this guide misleading or incomprehensible i would suggest to open an new discussion about this guide so i am able to get feedback and do improvements.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="were-i-started-from">Were i started from<a href="#were-i-started-from" class="hash-link" aria-label="Direct link to Were i started from" title="Direct link to Were i started from" translate="no">​</a></h2>
<p>My personal server experience start around 2009/2010 with an project from the german <a href="https://www.heise.de/ct/" target="_blank" rel="noopener noreferrer" class="">magazin ct&#x27;</a> explaining the setup for an homeserver with xen virtualisation and ipcop as firewall appliance in a virtual host sitting between your homenetwork(green), internet (red) and an eventually existing virtualmachine with an DMZ(orange).</p>
<p>My first server was setup following that guide using an Atom-D525.
About 01/2014 i updated my setup to an Intel Atom-C2550 from Supermicro with 3 3TB WD Red drives as Raid5 Array for Data-Storage.
Currently i am looking for an update, drives are getting old and the chances they die are increasing.
The next setup will be with an EPYC-3202 Board again from Supermicro but that future.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="setting-up-the-server">Setting up the Server<a href="#setting-up-the-server" class="hash-link" aria-label="Direct link to Setting up the Server" title="Direct link to Setting up the Server" translate="no">​</a></h2>
<p>This setup is for Debian10 Buster so anyone with an different distribution will have to take into account that there might more or less differences for where configuration files reside or that some packages might be not available.
I am not going to explain the general installation process for any part needed in this guide.
The intention is only to give an as complete and comrehensive as possible explanation on how to configure the parts needed.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="apache2-with-php74-fpm">Apache2 with PHP7.4-FPM<a href="#apache2-with-php74-fpm" class="hash-link" aria-label="Direct link to Apache2 with PHP7.4-FPM" title="Direct link to Apache2 with PHP7.4-FPM" translate="no">​</a></h3>
<p>Intention of my setup:</p>
<ul>
<li class="">separate vHost&#x27;s against each other using PHP-FPM with one user per vHost (security)</li>
<li class="">include Modsecurity WAF against attacker&#x27;s</li>
</ul>
<p>My setup is pretty much automated through a script i use to setup all what is needed for a vHost using PHP-FPM i will provide the script i use for automation at the and of this guide, it&#x27;s helpful if you regulary setup different vHost&#x27;s with PHP-FPM.
Though the setup it&#x27;s generates has functionality, it is somewhat basic. Some webapplications have special needs that can&#x27;t be taken into account in a basic setup. That&#x27;s also not the intention of that script, and the resulting vHost&#x27;s and PHP-FPM pool configuration have to be adjusted for the individual use case.
To understand the configuration it generates, knowledge of the directory Structure is needed:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/var/www</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [ampache  ampache ]  ampache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ampache  ampache ]  conf             # folder for the php-fpm socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ampache  ampache ]  logs             # your logs can go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ampache  ampache ]  public_html      # your document root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [ampache  ampache ]  sessions         # session folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [ampache  ampache ]  tmp              # folder for temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [clan     clan    ]  clan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [clan     clan    ]  conf             # folder for the php-fpm socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [clan     clan    ]  logs             # your logs can go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [clan     clan    ]  public_html      # your document root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── [clan     clan    ]  sessions         # session folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [clan     clan    ]  tmp              # folder for temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── [www-data www-data]  nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── [www-data www-data]  html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── [wiki     wiki    ]  wiki</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── [wiki     wiki    ]  conf             # folder for the php-fpm socket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── [wiki     wiki    ]  logs             # your logs can go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── [wiki     wiki    ]  public_html      # your document root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── [wiki     wiki    ]  sessions         # session folder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── [wiki     wiki    ]  tmp              # folder for temp</span><br></span></code></pre></div></div>
<p>This is my working virtualhost definition for Apache2 generated by my script and adjusted to the needs of ampache :</p>
<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost 192.168.3.8:80&gt;                                     # IP:Port if running multiple instances *:80 normally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerName ampache.sandmann.dd-dns.de                    # put your ampache domain here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Redirect permanent / https://ampache.sandmann.dd-dns.de/ # put your ampache domain here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;VirtualHost 192.168.3.8:443&gt;                                    # IP:Port if running multiple instances *:80 normally</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerName newampache.sandmann.dd-dns.de                 # put your ampache domain here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerAdmin webmaster@.sandmann.dd-dns.de                # same for your e-mail address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # the SSL part depends on the certificats you supply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SSLEngine on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SSLCertificateFile /etc/ssl/certs/ampache2.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SSLCertificateKeyFile /etc/ssl/private/ampache2.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetEnvIf Authorization &quot;(.*)&quot; HTTP_AUTHORIZATION=$1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Alias /ampache /var/www/ampache/public_html/public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DocumentRoot /var/www/ampache/public_html/public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Directory /var/www/ampache/public_html/public/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Options Indexes FollowSymLinks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                AllowOverride all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Require all granted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;FilesMatch &quot;\.(php)$&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        SetHandler &quot;proxy:unix:/var/www/ampache/conf/ampache-fpm74.sock|fcgi://newampache/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        ProxyErrorOverride on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/FilesMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Location &quot;/server-info&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SetHandler server-info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ProxyErrorOverride on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Require all denied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Require ip 192.168.1                    # allowing access only for your home network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Location&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Location &quot;/server-status&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SetHandler server-status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ProxyErrorOverride on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Require all denied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Require ip 192.168.1                    # allowing access only for your home network</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Location&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;Location /error/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SetHandler none                         # here you can define an error handler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/Location&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # The complete locationmatch is only for modsecurity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # it can be commented out if you feel save</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # maybe there will be an own chapter regarding modsecurity in this guide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # also the SecRuleRemoveById have to be adapted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # best is comment them out check error.log and</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        # put only needed rules here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;LocationMatch .*&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;IfModule mod_security2.c&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleEngine On</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 950007                # allow SQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 950109                # allow Multiple URL Encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 950120                # Allow: Possible Remote File Inclusion (RFI) Attack: Off-Domain Reference/Link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 958291                # Allow: Range: field exists and begins with 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 960024                # Allow: Meta-Character Anomaly Detection Alert - Repetative Non-Word Characters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 960015                # Allow: Request Missing an Accept Header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 970901                # Allow: Matched Data: 500 found within RESPONSE_STATUS: 500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 970903                # Allow: Outbound ASP/JSP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981054                # Allow: Invalid SessionID Submitted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981059                # Allow: Warning - Sticky SessionID Data Changed - IP Address Mismatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981060                # Allow: Warning - Sticky SessionID Data Changed - User-Agent Mismatch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981203                # Allow: Inbound Anomaly Score (Total Inbound Score: 3, SQLi=0, XSS=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981001                # Allow: Possibly malicious iframe tag in output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981173                # Allow: Restricted SQL Character Anomaly Detection Alert - Total # of special characters exceeded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981184                # Allow: AppDefect: Missing HttpOnly Cookie Flag for ampache_user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981242                # Allow: Detects classic SQL injection probings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981243                # Allow: Detects classic SQL injection probings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981245                # Allow: Detects basic SQL authentication bypass attempts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981246                # Allow: Detects basic SQL authentication bypass attempts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981257                # allow: MySQL comment-/space-obfuscated injections and backtick termination.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981405                # allow: Response Header is Missing or not set to Deny.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981401                # allow: Content-Type Response Header is Missing or Empty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SecRuleRemoveById 981407                # allow: Content-Type Response Header is Missing and X-Content-Type-Options is either missing or not set to &#x27;nosniff&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/IfModule&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/LocationMatch&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ServerSignature Off</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ErrorLog /var/www/ampache/logs/error.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        LogLevel warn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CustomLog /var/www/ampache/logs/access.log combined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuring-php-fpm-for-ampache-vhost">Configuring PHP-FPM for Ampache vHost<a href="#configuring-php-fpm-for-ampache-vhost" class="hash-link" aria-label="Direct link to Configuring PHP-FPM for Ampache vHost" title="Direct link to Configuring PHP-FPM for Ampache vHost" translate="no">​</a></h3>
<p>to be continued</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/installation/guides/tutorial-to-install-ampache-on-xampp"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Install Ampache on Xampp</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/installation/guides/windows-installation-on-iis7.5-from-he99"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Windows Install on IIS7.5</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#guide-to-setup-ampache-server-using-apache2-or-nginx-with-php74-fpm" class="table-of-contents__link toc-highlight">Guide to setup Ampache server using APACHE2 or NGINX with PHP7.4-FPM</a></li><li><a href="#were-i-started-from" class="table-of-contents__link toc-highlight">Were i started from</a></li><li><a href="#setting-up-the-server" class="table-of-contents__link toc-highlight">Setting up the Server</a><ul><li><a href="#apache2-with-php74-fpm" class="table-of-contents__link toc-highlight">Apache2 with PHP7.4-FPM</a></li><li><a href="#configuring-php-fpm-for-ampache-vhost" class="table-of-contents__link toc-highlight">Configuring PHP-FPM for Ampache vHost</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://github.com/ampache/ampache.org-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website Repo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://ampache.org/old" target="_blank" rel="noopener noreferrer" class="footer__link-item">Old Site<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/ampache/ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://hub.docker.com/repository/docker/ampache/ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docker Hub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://twitter.com/ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://fosstodon.org/@ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://bsky.app/profile/ampache.bsky.social" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://t.me/ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><span class="footer__link-separator">·</span><a href="https://www.reddit.com/r/ampache" target="_blank" rel="noopener noreferrer" class="footer__link-item">r/ampache<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2001 - 2026 Ampache.org</div></div></div></footer></div>
</body>
</html>