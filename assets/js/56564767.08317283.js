"use strict";(globalThis.webpackChunkampache_org_docs=globalThis.webpackChunkampache_org_docs||[]).push([[5581],{5289(e,l,n){n.r(l),n.d(l,{assets:()=>r,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docs/configuration/localplay/localplay-api","title":"Localplay Controller API","description":"Requirements for building a Localplay controller","source":"@site/docs/docs/configuration/localplay/localplay-api.md","sourceDirName":"docs/configuration/localplay","slug":"/docs/configuration/localplay/localplay-api","permalink":"/docs/configuration/localplay/localplay-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Localplay Controller API","metaTitle":"Localplay Controller API","description":"Requirements for building a Localplay controller"},"sidebar":"api","previous":{"title":"HttpQ Localplay","permalink":"/docs/configuration/localplay/httpq"},"next":{"title":"Sample MPD config file","permalink":"/docs/configuration/localplay/Sample-MPD-Config-For-Ampache"}}');var t=n(4848),o=n(8453);const a={title:"Localplay Controller API",metaTitle:"Localplay Controller API",description:"Requirements for building a Localplay controller"},s=void 0,r={},c=[{value:"Localplay Controller API",id:"localplay-controller-api",level:2},{value:"Required Functions of Controller",id:"required-functions-of-controller",level:2},{value:"Required Functionality",id:"required-functionality",level:3},{value:"Recommended Functionality",id:"recommended-functionality",level:3},{value:"Optional Functionality",id:"optional-functionality",level:3}];function d(e){const l={h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,o.RP)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.h2,{id:"localplay-controller-api",children:"Localplay Controller API"}),"\n",(0,t.jsx)(l.p,{children:"All controllers and config files are located in /modules/localplay/ they are named with the following conventions. [name of service].controller.php and [name of service].cfg.php. For example if you are using MPD then the names would be mpd.controller.php and mpd.cfg.php The class inside must be Ampache[name of service] in order to avoid conflicts and must extend the localplay_controller class"}),"\n",(0,t.jsx)(l.h2,{id:"required-functions-of-controller",children:"Required Functions of Controller"}),"\n",(0,t.jsx)(l.p,{children:"The controller will be called by the Ampache localplay class and must extend the localplay_controller class."}),"\n",(0,t.jsx)(l.h3,{id:"required-functionality",children:"Required Functionality"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"add -- This must take an array of song_id's to be added to the player's playlist"}),"\n",(0,t.jsx)(l.li,{children:"play -- This function is not passed anything"}),"\n",(0,t.jsx)(l.li,{children:"stop - This function is not passed anything"}),"\n",(0,t.jsx)(l.li,{children:"delete - This takes an array of UID's to remove from the players playlist"}),"\n",(0,t.jsx)(l.li,{children:"get - This must return an array that at the very lease contains ['id'] for each song in the players playlist. For players that can't return data this must be stored in the object..."}),"\n",(0,t.jsx)(l.li,{children:"status - This returns the current state of the 'localplay' device such as Playing Stopped or Paused."}),"\n",(0,t.jsx)(l.li,{children:"connect - This must establish the connection to the daemon and test for it's existance"}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"recommended-functionality",children:"Recommended Functionality"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"next - This skips to the next song"}),"\n",(0,t.jsx)(l.li,{children:"prev - This skips to the previous song"}),"\n",(0,t.jsx)(l.li,{children:"pause - This pauses the song"}),"\n",(0,t.jsx)(l.li,{children:"skip - This skips to the specified UID as retrieved via get"}),"\n",(0,t.jsx)(l.li,{children:"repeat - This is passed a bool true/false value to repeat one song"}),"\n",(0,t.jsx)(l.li,{children:"random - This is passed a bool true/false value to play songs from the playlist in random order"}),"\n",(0,t.jsx)(l.li,{children:"get_playing - This returns the current track that is playing on the localplay device"}),"\n",(0,t.jsx)(l.li,{children:"get_playlist - This returns an array of the currently playing songs with the track_id as the key allowing for display/modification"}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"optional-functionality",children:"Optional Functionality"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"seek - go to the point x seconds into the song"}),"\n",(0,t.jsx)(l.li,{children:"randomize - This shuffles the playlist"}),"\n",(0,t.jsx)(l.li,{children:"move - move song x to position y within the playlist"}),"\n",(0,t.jsx)(l.li,{children:"delete_all - This clears the entire playlist on the localplay device"}),"\n",(0,t.jsx)(l.li,{children:"volume_up - This function is simply called and increments the volume by a pre-defined amount"}),"\n",(0,t.jsx)(l.li,{children:"volume_down - This function is simply called and decreses the volume by a pre-defined amount"}),"\n"]})]})}function p(e={}){const{wrapper:l}={...(0,o.RP)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,l,n){n.d(l,{RP:()=>o,xA:()=>s});var i=n(6540);const t=i.createContext({});function o(e){const l=i.useContext(t);return i.useMemo(()=>"function"==typeof e?e(l):{...l,...e},[l,e])}const a={};function s({components:e,children:l,disableParentContext:n}){let s;return s=n?"function"==typeof e?e({}):e||a:o(e),i.createElement(t.Provider,{value:s},l)}}}]);