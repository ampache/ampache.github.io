"use strict";(globalThis.webpackChunkampache_org_docs=globalThis.webpackChunkampache_org_docs||[]).push([[913],{8453(e,n,t){t.d(n,{RP:()=>o,xA:()=>r});var s=t(6540);const a=s.createContext({});function o(e){const n=s.useContext(a);return s.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}const i={};function r({components:e,children:n,disableParentContext:t}){let r;return r=t?"function"==typeof e?e({}):e||i:o(e),s.createElement(a.Provider,{value:r},n)}},9023(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"docs/old-information/mysql-faq","title":"MySQL8 FAQ","description":"MySQ8 FAQ","source":"@site/docs/docs/old-information/mysql-faq.md","sourceDirName":"docs/old-information","slug":"/docs/old-information/mysql-faq","permalink":"/docs/old-information/mysql-faq","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"MySQL8 FAQ","metaTitle":"MySQL8 FAQ","description":"MySQ8 FAQ"},"sidebar":"api","previous":{"title":"Ampache4 Installation","permalink":"/docs/old-information/installation-v4"},"next":{"title":"Ampache Laravel","permalink":"/docs/old-information/ampache-laravel-next-generation-preview"}}');var a=t(4848),o=t(8453);const i={title:"MySQL8 FAQ",metaTitle:"MySQL8 FAQ",description:"MySQ8 FAQ"},r=void 0,l={},d=[{value:"PHP7.4 is out and stable",id:"php74-is-out-and-stable",level:2},{value:"Help Me Use MySQL8 with Ampache",id:"help-me-use-mysql8-with-ampache",level:2},{value:"Why do I need to do this?",id:"why-do-i-need-to-do-this",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.RP)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"php74-is-out-and-stable",children:"PHP7.4 is out and stable"}),"\n",(0,a.jsx)(n.p,{children:"I have tested installs using php7.4 and no extra requirements are needed for installs on 7.4"}),"\n",(0,a.jsx)(n.h2,{id:"help-me-use-mysql8-with-ampache",children:"Help Me Use MySQL8 with Ampache"}),"\n",(0,a.jsx)(n.p,{children:"MySQL8 support currently requires a bit of manual configuration outside of Ampache to install."}),"\n",(0,a.jsxs)(n.p,{children:["The newer versions default to caching-sha2-password as the default authentication plugin rather than mysql_native_password. ",(0,a.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password",children:"MySQL 8.0 Reference Manual"})]}),"\n",(0,a.jsx)(n.p,{children:"For now it is recommended that you use the old default of mysql_native_password."}),"\n",(0,a.jsx)(n.p,{children:"Update your mysql ini file"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-conf",children:"[mysqld]\ndefault_authentication_plugin=mysql_native_password\n"})}),"\n",(0,a.jsx)(n.p,{children:"And then update your root user."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mysql",children:"ALTER USER 'root'@'localhost'\nIDENTIFIED WITH mysql_native_password\nBY 'password';\nFLUSH PRIVILEGES;\n"})}),"\n",(0,a.jsx)(n.p,{children:"After you install Ampache and create a database user for the site, you can reset root to an SHA2 password."}),"\n",(0,a.jsx)(n.h2,{id:"why-do-i-need-to-do-this",children:"Why do I need to do this?"}),"\n",(0,a.jsx)(n.p,{children:"Until PHP 7.4 releases you won't be able to connect using caching-sha2-passwords."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://bugs.php.net/bug.php?id=76243",children:"PHP bugs #76243 mysql 8 - new default_authentication_plugin"})})]})}function h(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);