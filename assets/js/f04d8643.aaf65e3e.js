"use strict";(globalThis.webpackChunkampache_org_docs=globalThis.webpackChunkampache_org_docs||[]).push([[408],{8075(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"docs/development/CONTRIBUTING","title":"Contributing","description":"Contributing to ampache","source":"@site/docs/docs/development/CONTRIBUTING.md","sourceDirName":"docs/development","slug":"/docs/development/CONTRIBUTING","permalink":"/docs/development/CONTRIBUTING","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Contributing","metaTitle":"Contributing","description":"Contributing to ampache"},"sidebar":"api","previous":{"title":"Themes","permalink":"/docs/themes"},"next":{"title":"Translations","permalink":"/docs/development/TRANSLATIONS"}}');var s=i(4848),o=i(8453);const r={title:"Contributing",metaTitle:"Contributing",description:"Contributing to ampache"},a=void 0,l={},c=[{value:"Contributing to ampache",id:"contributing-to-ampache",level:2},{value:"Bug report",id:"bug-report",level:2},{value:"Translations",id:"translations",level:2},{value:"Bug reports",id:"bug-reports",level:2},{value:"Feature requests",id:"feature-requests",level:2},{value:"Contributing code and documentation changes",id:"contributing-code-and-documentation-changes",level:2},{value:"Fork and clone the repository",id:"fork-and-clone-the-repository",level:3},{value:"Tips for code changes",id:"tips-for-code-changes",level:3},{value:"Coding standards and principles",id:"coding-standards-and-principles",level:3},{value:"Submitting your changes",id:"submitting-your-changes",level:3},{value:"Test your changes",id:"test-your-changes",level:4},{value:"Rebase your changes",id:"rebase-your-changes",level:4},{value:"Submit a pull request",id:"submit-a-pull-request",level:4},{value:"License Headers",id:"license-headers",level:3},{value:"Project layout",id:"project-layout",level:3},{value:"<code>bin</code>",id:"bin",level:4},{value:"<code>config</code>",id:"config",level:4},{value:"<code>docs</code>",id:"docs",level:4},{value:"<code>locale</code>",id:"locale",level:4},{value:"<code>public</code>",id:"public",level:4},{value:"<code>resources</code>",id:"resources",level:4},{value:"<code>src</code>",id:"src",level:4},{value:"src-&gt;Application (deprecated)",id:"src-application-deprecated",level:5},{value:"src-&gt;Config",id:"src-config",level:5},{value:"src-&gt;Gui (deprecated)",id:"src-gui-deprecated",level:5},{value:"src-&gt;Module",id:"src-module",level:5},{value:"src-&gt;Plugin",id:"src-plugin",level:5},{value:"src-&gt;Repository",id:"src-repository",level:5},{value:"<code>tests</code>",id:"tests",level:4},{value:"<code>vendor</code>",id:"vendor",level:4},{value:"Reviewing and accepting your contribution",id:"reviewing-and-accepting-your-contribution",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.RP)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"contributing-to-ampache",children:"Contributing to ampache"}),"\n",(0,s.jsx)(n.p,{children:"Ampache is an open source project that loves to receive contributions from our community \u2014\xa0you!\nThere are many ways to contribute, from writing tutorials or blog posts, improving the documentation,\nsubmitting bug reports and feature requests or writing code which can be incorporated into Ampache itself."}),"\n",(0,s.jsx)(n.p,{children:"Anyone can take part in our community and it there are no rules or requirements stopping you from joining.\nHopefully this document will help you make the jump!"}),"\n",(0,s.jsxs)(n.p,{children:["Please read all items in the ",(0,s.jsx)(n.a,{href:"https://ampache.org/docs/development/CONTRIBUTING",children:"Development section"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"bug-report",children:"Bug report"}),"\n",(0,s.jsx)(n.p,{children:"Anyone can take part in our community and it there are no rules or requirements stopping you from joining.\nHopefully this document will help you make the jump!"}),"\n",(0,s.jsxs)(n.p,{children:["Be sure the bug is not already fixed in ",(0,s.jsx)(n.code,{children:"develop"})," branch or already reported in current open issues.\nPlease add ",(0,s.jsx)(n.a,{href:"https://ampache.org/docs/help#enable-logging",children:"some logs"})," with your new issue."]}),"\n",(0,s.jsx)(n.h2,{id:"translations",children:"Translations"}),"\n",(0,s.jsxs)(n.p,{children:["The official way to send in translations is via ",(0,s.jsx)(n.a,{href:"https://www.transifex.com/ampache/ampache/dashboard/",children:"Transifex"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The official source language of Ampache is US English."}),"\n",(0,s.jsx)(n.li,{children:"Strings should only be translated where they differ from the source language."}),"\n",(0,s.jsx)(n.li,{children:"If a translation is not available, Ampache will fall back to US English."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ampache uses gettext to handle the translation between different languages.\nIf you are interested in translating Ampache into a new language or updating\nan existing translation please join us on Transifex."}),"\n",(0,s.jsx)(n.p,{children:"Benifits to using the Transifex platform include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Everything is managed in a central location."}),"\n",(0,s.jsx)(n.li,{children:"Translations are updated in a single commit without conflicts."}),"\n",(0,s.jsx)(n.li,{children:"The current translation state is available to the team to understand the status of each language."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If you have further questions about translations, please feel free to open an issue and ask for @Psy-Virus - The Translation Guy."}),"\n",(0,s.jsx)(n.h2,{id:"bug-reports",children:"Bug reports"}),"\n",(0,s.jsxs)(n.p,{children:["If you think you have found a bug in Ampache, first make sure that you are testing against the latest ",(0,s.jsx)(n.a,{href:"https://github.com/ampache/ampache/tree/develop",children:"development"})," version.\nYour issue may already have been fixed. If not, search our ",(0,s.jsx)(n.a,{href:"https://github.com/ampache/ampache/issues",children:"issues list"})," on GitHub in case a similar issue has already been opened."]}),"\n",(0,s.jsxs)(n.p,{children:["A good tip when searching is to use in",":title",", in",":body"," or in",":comments"," when searching, especially for specific issues."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"warning in:title"}),' matches issues with "warning" in their title.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error in:title,body"}),' matches issues with "error" in their title or body.']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"shipit in:comments"}),' matches issues mentioning "shipit" in their comments.']}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Check out ",(0,s.jsx)(n.a,{href:"https://docs.github.com/en/github/searching-for-information-on-github/searching-issues-and-pull-requests",children:"docs.github.com"})," for more info about searching."]}),"\n",(0,s.jsxs)(n.p,{children:["It is ",(0,s.jsx)(n.strong,{children:"very"})," helpful if you can prepare a reproduction of the bug. We have templates available which will help you when making your report."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/ampache/ampache/develop/.github/ISSUE_TEMPLATE/bug_report.md",children:"Bug report"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/ampache/ampache/security/policy",children:"Security Policy"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The easier it is for us to recreate your problem, the faster it is likely to be fixed."}),"\n",(0,s.jsx)(n.h2,{id:"feature-requests",children:"Feature requests"}),"\n",(0,s.jsx)(n.p,{children:"If you find yourself wishing for a feature that doesn't exist in Ampache, you are probably not alone.\nWhile Ampache tries to cover as many people as possible there are always going to be features and wants that haven't made it yet."}),"\n",(0,s.jsxs)(n.p,{children:["If you can't find an existing issue, open a new one on the ",(0,s.jsx)(n.a,{href:"https://github.com/ampache/ampache/issues",children:"issues list"})," on GitHub."]}),"\n",(0,s.jsxs)(n.p,{children:["Describes the feature you would like to see, why you need it, and how it should work making sure you follow our ",(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/ampache/ampache/develop/.github/ISSUE_TEMPLATE/feature_request.md",children:"Feature request"})," template."]}),"\n",(0,s.jsx)(n.h2,{id:"contributing-code-and-documentation-changes",children:"Contributing code and documentation changes"}),"\n",(0,s.jsx)(n.p,{children:"If you would like to contribute a new feature or a bug fix to Ampache,\nplease discuss your idea first on the Github issue. If there is no Github issue\nfor your idea, please open one. It may be that somebody is already working on\nit, or that there are particular complexities that you should know about before\nstarting the implementation. There are often a number of ways to fix a problem\nand it is important to find the right approach before spending time on a PR\nthat cannot be merged."}),"\n",(0,s.jsxs)(n.p,{children:["The process for contributing to any of the ",(0,s.jsx)(n.a,{href:"https://github.com/ampache/",children:"Ampache repositories"})," is similar.\nWhile they are similar, this document is specifically for contributing the the main Ampache repository."]}),"\n",(0,s.jsx)(n.h3,{id:"fork-and-clone-the-repository",children:"Fork and clone the repository"}),"\n",(0,s.jsxs)(n.p,{children:["You will need to fork the main Ampache code or documentation repository and clone it to your local machine.\nSee the ",(0,s.jsx)(n.a,{href:"https://help.github.com/articles/fork-a-repo",children:"github help page"})," for help."]}),"\n",(0,s.jsx)(n.p,{children:"Further instructions for specific projects are given below."}),"\n",(0,s.jsx)(n.h3,{id:"tips-for-code-changes",children:"Tips for code changes"}),"\n",(0,s.jsx)(n.p,{children:"Following these tips prior to raising a pull request will speed up the review cycle."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Make sure the code you add follows project coding standards and passes all tests before submitting"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Lines that are not part of your change should not be edited"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"e.g. don't format unchanged lines, don't reorder existing imports"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add the appropriate ",(0,s.jsx)(n.a,{href:"#license-headers",children:"license headers"})," to any new files"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Make your own branch for your changes based on the develop branch. (e.g. my-patch-branch)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"coding-standards-and-principles",children:"Coding standards and principles"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"We use PSR12 code style"}),"\n",(0,s.jsxs)(n.li,{children:["We follow the ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/SOLID",children:(0,s.jsx)(n.code,{children:"SOLID"})})," principles"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"submitting-your-changes",children:"Submitting your changes"}),"\n",(0,s.jsx)(n.p,{children:"Once your changes are ready to submit for review you need to:"}),"\n",(0,s.jsx)(n.h4,{id:"test-your-changes",children:"Test your changes"}),"\n",(0,s.jsx)(n.p,{children:"Run the test scripts to make sure that nothing is broken.\nPlease consider adding unit-tests for you newly written code."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"composer qa\n"})}),"\n",(0,s.jsx)(n.h4,{id:"rebase-your-changes",children:"Rebase your changes"}),"\n",(0,s.jsx)(n.p,{children:"Update your local repository with the most recent code from the Ampache repository using the latest develop branch."}),"\n",(0,s.jsx)(n.h4,{id:"submit-a-pull-request",children:"Submit a pull request"}),"\n",(0,s.jsxs)(n.p,{children:["Push your local changes to your forked copy of the repository and ",(0,s.jsx)(n.a,{href:"https://help.github.com/articles/using-pull-requests",children:"submit a pull request"}),'. In the pull request, choose a title which sums up the changes that you have made, and in the body provide more details about what your changes do. Also mention the number of the issue where discussion has taken place, eg "Closes #123".']}),"\n",(0,s.jsx)(n.p,{children:"Then sit back and wait. There will probably be discussion about the pull request and, if any changes are needed, we would love to work with you to get your pull request merged into Ampache."}),"\n",(0,s.jsx)(n.p,{children:"The Ampache project love to recognize their contributors and will go to every effort to help make your pull requests meet the standards to merge."}),"\n",(0,s.jsx)(n.h3,{id:"license-headers",children:"License Headers"}),"\n",(0,s.jsx)(n.p,{children:"Ampache requires license headers on all PHP files.\nAll contributed code should have the following\nlicense header unless instructed otherwise:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\ndeclare(strict_types=1);\n\n/**\n * vim:set softtabstop=4 shiftwidth=4 expandtab:\n *\n * LICENSE: GNU Affero General Public License, version 3 (AGPL-3.0-or-later)\n * Copyright Ampache.org, 2001-2024\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n *\n */\n"})}),"\n",(0,s.jsx)(n.h3,{id:"project-layout",children:"Project layout"}),"\n",(0,s.jsx)(n.p,{children:"This repository is split into many top level directories."}),"\n",(0,s.jsx)(n.h4,{id:"bin",children:(0,s.jsx)(n.code,{children:"bin"})}),"\n",(0,s.jsx)(n.p,{children:"Contains the server CLI applications"}),"\n",(0,s.jsx)(n.h4,{id:"config",children:(0,s.jsx)(n.code,{children:"config"})}),"\n",(0,s.jsx)(n.p,{children:"Where your Ampache config file resides (ampache.cfg.php)"}),"\n",(0,s.jsx)(n.h4,{id:"docs",children:(0,s.jsx)(n.code,{children:"docs"})}),"\n",(0,s.jsx)(n.p,{children:"Documentation for the project."}),"\n",(0,s.jsx)(n.h4,{id:"locale",children:(0,s.jsx)(n.code,{children:"locale"})}),"\n",(0,s.jsx)(n.p,{children:"Translations are stored here."}),"\n",(0,s.jsx)(n.h4,{id:"public",children:(0,s.jsx)(n.code,{children:"public"})}),"\n",(0,s.jsx)(n.p,{children:"This is the public web root for Ampache and where your webserver should point to."}),"\n",(0,s.jsx)(n.h4,{id:"resources",children:(0,s.jsx)(n.code,{children:"resources"})}),"\n",(0,s.jsx)(n.p,{children:"Fonts, scripts, templates and non-code resources that are required by Ampache."}),"\n",(0,s.jsx)(n.h4,{id:"src",children:(0,s.jsx)(n.code,{children:"src"})}),"\n",(0,s.jsxs)(n.p,{children:["Most of the logic resides within the Module folder. The model-files (in ",(0,s.jsx)(n.code,{children:"Repository"}),") may also\ncontain application logic, this logic fragments will be migrated into their corresponding domains in ",(0,s.jsx)(n.code,{children:"Module"})]}),"\n",(0,s.jsx)(n.h5,{id:"src-application-deprecated",children:"src->Application (deprecated)"}),"\n",(0,s.jsx)(n.p,{children:"Api-related code which didn't fit into existing domains within the Module folder yet."}),"\n",(0,s.jsx)(n.h5,{id:"src-config",children:"src->Config"}),"\n",(0,s.jsx)(n.p,{children:"Application bootstrapping and config initialization related code."}),"\n",(0,s.jsx)(n.h5,{id:"src-gui-deprecated",children:"src->Gui (deprecated)"}),"\n",(0,s.jsx)(n.p,{children:"Contains code related to the upcoming templating system. This namespace is deprecated, the code\nwill be merged into domains within the Module folder."}),"\n",(0,s.jsx)(n.h5,{id:"src-module",children:"src->Module"}),"\n",(0,s.jsx)(n.p,{children:"Contains the complete business logic of Ampache, divided into separate domains."}),"\n",(0,s.jsx)(n.h5,{id:"src-plugin",children:"src->Plugin"}),"\n",(0,s.jsx)(n.p,{children:"Ampache plugins are placed here."}),"\n",(0,s.jsx)(n.h5,{id:"src-repository",children:"src->Repository"}),"\n",(0,s.jsx)(n.p,{children:"Contains repository classes for database access as well as the ORM model classes."}),"\n",(0,s.jsx)(n.h4,{id:"tests",children:(0,s.jsx)(n.code,{children:"tests"})}),"\n",(0,s.jsxs)(n.p,{children:["Tests for Ampache using phpunit. The folder structure mirrors the structures within ",(0,s.jsx)(n.code,{children:"src"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"vendor",children:(0,s.jsx)(n.code,{children:"vendor"})}),"\n",(0,s.jsx)(n.p,{children:"Third-Party composer requirements that are not maintained by Ampache."}),"\n",(0,s.jsx)(n.h2,{id:"reviewing-and-accepting-your-contribution",children:"Reviewing and accepting your contribution"}),"\n",(0,s.jsx)(n.p,{children:"We review every contribution carefully to ensure that the change is of high\nquality and fits well with the rest of the Ampache codebase. ourselves."}),"\n",(0,s.jsx)(n.p,{children:"We really appreciate everyone who is interested in contributing to\nAmpache and regret that we sometimes have to reject contributions even\nwhen they might appear to make genuine improvements to the system."}),"\n",(0,s.jsx)(n.p,{children:"Please discuss your change in a Github issue before spending much time on its\nimplementation. We sometimes have to reject contributions that duplicate other\nefforts, take the wrong approach to solving a problem, or solve a problem which\ndoes not need solving. An up-front discussion often saves a good deal of wasted\ntime in these cases."}),"\n",(0,s.jsx)(n.p,{children:"We expect you to follow up on review comments somewhat promptly, but recognise\nthat everyone has many priorities for their time and may not be able to respond\nfor several days. We will understand if you find yourself without the time to\ncomplete your contribution, but please let us know that you have stopped\nworking on it. We may close your PR if you do not respond for too long."}),"\n",(0,s.jsx)(n.p,{children:"If your contribution is rejected we will close the pull request with a comment\nexplaining why. if you feel we have misunderstood your intended change\nor otherwise think that we should reconsider then please continue the conversation\nand we'll do our best to address any further points you raise."})]})}function d(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{RP:()=>o,xA:()=>a});var t=i(6540);const s=t.createContext({});function o(e){const n=t.useContext(s);return t.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}const r={};function a({components:e,children:n,disableParentContext:i}){let a;return a=i?"function"==typeof e?e({}):e||r:o(e),t.createElement(s.Provider,{value:a},n)}}}]);