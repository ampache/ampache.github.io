"use strict";(globalThis.webpackChunkampache_org_docs=globalThis.webpackChunkampache_org_docs||[]).push([[4143],{5588(e,n,a){a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"docs/configuration/transcoding/transcode-caching","title":"Transcode Caching","description":"Transcode Caching","source":"@site/docs/docs/configuration/transcoding/transcode-caching.md","sourceDirName":"docs/configuration/transcoding","slug":"/docs/configuration/transcoding/transcode-caching","permalink":"/docs/configuration/transcoding/transcode-caching","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Transcode Caching","metaTitle":"Transcode Caching","description":"Transcode Caching"},"sidebar":"api","previous":{"title":"Transcoding","permalink":"/docs/configuration/transcoding/"},"next":{"title":"Private Catalogs","permalink":"/docs/configuration/catalog-filters"}}');var c=a(4848),o=a(8453);const s={title:"Transcode Caching",metaTitle:"Transcode Caching",description:"Transcode Caching"},i=void 0,r={},l=[{value:"What is Transcode Caching",id:"what-is-transcode-caching",level:2},{value:"Use cases",id:"use-cases",level:2},{value:"Enable Transcode Caching",id:"enable-transcode-caching",level:2}];function h(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.RP)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"what-is-transcode-caching",children:"What is Transcode Caching"}),"\n",(0,c.jsx)(n.p,{children:"Managing your files can be complicated; trancoding helps smooth out the experience by converting your files on demand into preset types and bit rates. It's also useful when you have a file format that's massive like a wav file, a type that's incompatible with your chosen player or an application that can't support your chosen format."}),"\n",(0,c.jsx)(n.p,{children:"Sometimes this process doesn't always work perfectly so we've added new options to do all this before a user requests the file."}),"\n",(0,c.jsx)(n.p,{children:"This feature is supported for local catalogs, remote Ampache and remote Subsonic catalogs."}),"\n",(0,c.jsx)(n.p,{children:"Remote catalogs will cache ALL files and ignore file extension settings."}),"\n",(0,c.jsx)(n.h2,{id:"use-cases",children:"Use cases"}),"\n",(0,c.jsx)(n.p,{children:"The reasons you might want to do this are:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"You're having trouble with certain file types. (Like a flac album finishing early in the web player)"}),"\n",(0,c.jsx)(n.li,{children:"You want to reduce server load by trancoding these files once instead of on demand"}),"\n",(0,c.jsx)(n.li,{children:"You don't have the space to fit your library on the server"}),"\n",(0,c.jsx)(n.li,{children:"The time it takes to transcode music is affecting your client application"}),"\n",(0,c.jsx)(n.li,{children:"You use a remote catalog and you want to reduce external traffic to the remote server"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"enable-transcode-caching",children:"Enable Transcode Caching"}),"\n",(0,c.jsx)(n.p,{children:"Here's a copy of the config section so you can have a look over the options."}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Before you can enable this option transcoding ",(0,c.jsx)(n.strong,{children:"must"})," be configured and working."]}),"\n",(0,c.jsx)(n.li,{children:"You must have an accessible path, a target format and uncommented at least 1 file format to use this feature"}),"\n",(0,c.jsxs)(n.li,{children:["You can start the cache process using the cli only (e.g. ",(0,c.jsx)(n.code,{children:"php bin/cli run:cacheProcess"}),")"]}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-conf",children:';#########################################################\n; Transcode Caching                                      #\n;#########################################################\n; These are commands used to pre-cache a file format for streaming.\n; This helps avoid waiting for transcodes to finish and makes\n; files immediately available to the client.\n\n; Path to your cache folder.\n; This is where the pre-transcoded files will be stored\n; DEFAULT: none\n;cache_path = "/tmp"\n\n; Default audio output format\n; DEFAULT: none\n;cache_target = "mp3"\n\n; Look in your local catalogs for these file extensions and pre-cache to the\n; \'cache_path\'. This could be helpful to reduce space needed on your\n; web server or to make sure that clients get files quickly.\n; Execute "bin/cli run:cacheProcess" to process these files.\n; DEFAULT: "false"\n;cache_m4a  = "true"\n;cache_flac = "true"\n;cache_mpc  = "true"\n;cache_ogg  = "true"\n;cache_oga  = "true"\n;cache_opus = "true"\n;cache_wav  = "true"\n;cache_wma  = "true"\n;cache_aif  = "true"\n;cache_aiff = "true"\n;cache_ape  = "true"\n;cache_shn  = "true"\n;cache_mp3  = "true"\n\n; REMOTE CATALOGS ONLY\n; Enabling cache_remote on remote catalogs will cache every file on the remote server\n; DEFAULT: "false"\n;cache_remote  = "true"\n'})})]})}function d(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},8453(e,n,a){a.d(n,{RP:()=>o,xA:()=>i});var t=a(6540);const c=t.createContext({});function o(e){const n=t.useContext(c);return t.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}const s={};function i({components:e,children:n,disableParentContext:a}){let i;return i=a?"function"==typeof e?e({}):e||s:o(e),t.createElement(c.Provider,{value:i},n)}}}]);